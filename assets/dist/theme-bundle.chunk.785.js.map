{"version":3,"file":"theme-bundle.chunk.785.js","mappings":"mTAMA,IAAMA,EACO,CACL,CACIC,SAAU,QACVC,MAAO,KACPC,UAAW,kBACXC,WAAY,eACZC,UAAW,gBACXC,WAAY,GACZC,OAAQ,SACRC,OAAQ,SACRC,WAAY,qCAEhB,CACIR,SAAU,MACVC,MAAO,KACPC,UAAW,mBACXC,WAAY,kBACZC,UAAW,gBACXC,WAAY,EACZC,OAAQ,SACRC,OAAQ,YACRC,WAAY,sCAKHC,EAAS,SAAAC,G,QAC1B,SAAAD,EAAYE,GAAS,IAAAC,EAIM,OAHvBA,EAAAF,EAAAG,KAAA,KAAMF,IAAQ,MACTG,SAAWC,EAAE,yBAClBH,EAAKI,kBAAoBD,EAAE,qBAC3BH,EAAKD,QAAUA,EAAQC,CAC3B,C,EAN0BF,G,EAAAD,G,sEAMzB,IAAAQ,EAAAR,EAAAS,UAoGA,OApGAD,EAEDE,QAAA,WACIC,KAAKC,iBAAiBD,KAAKT,QAC/B,EAACM,EAEDI,iBAAA,SAAiBV,GAIbS,KAAKE,cAAcX,EAASZ,EAChC,EAACkB,EAEDK,cAAA,SAAcX,EAASY,GACnB,IAAMC,EAAcD,EAAQE,KAAI,SAAAC,GAU1B,IATQC,EAAOD,EAAjB1B,SAIW4B,EAAQF,EAAnBtB,UACYyB,EAASH,EAArBrB,WACAC,EAAMoB,EAANpB,OACAC,EAAMmB,EAANnB,OACYuB,EAASJ,EAArBlB,WAIA,MAAO,uJAGsCmB,EAAO,qEACJpB,EAAM,4PAKXqB,EAAQ,oNAIRC,EAAS,qNAITvB,EAAM,2QAKbwB,EAAS,yrBAWEvB,EAAM,0TAnClCI,EAAQoB,cAAgBD,EA2Cf,oHAKhC,IAAGE,KAAK,IAERZ,KAAKJ,kBAAkBiB,KAAKT,GAC5BJ,KAAKc,cACT,EAACjB,EAEDkB,gBAAA,WAGIf,KAAKJ,kBAAkBiB,KAFH,+BAGxB,EAAChB,EAEDmB,YAAA,SAAYC,GACRC,QAAQD,MAAMA,GACdjB,KAAKe,iBACT,EAAClB,EAEDiB,aAAA,WAAe,IAAAK,EAAA,KACXxB,EAAE,8BAA8ByB,GAAG,SAAS,SAAAC,GACxC,IAAMC,EAAMD,EAAME,OAAOC,aAAa,QAC9Bb,EAAkBQ,EAAK5B,QAAvBoB,cACRc,UAAUC,UAAUC,UAAUhB,EAAgBW,EAClD,GACJ,EAACzB,EAED+B,QAAA,SAAQC,GACJ7B,KAAKN,SAASmC,EAAO,OAAS,SAClC,EAACxC,CAAA,CA1GyB,CAASyC,EAAAA,E","sources":["webpack://bigcommerce-cornerstone/./assets/js/theme/custom/my-parties.js"],"sourcesContent":["import PageManager from '../page-manager';\n\n// TODO\n// IMPORTANT: GET PARTIES REQUEST HAS BEEN MOCKED DUE TO MISSING WORKING ENDPOINT.\n// IS UP TO PINK ZEBRA TO COMPLETE IT WHEN THE API IS WORKING.\n\nconst bodyMockResponse = {\n    parties: [\n        {\n            party_id: 4353522,\n            repID: 1234,\n            host_name: 'Candace Mertens',\n            party_name: 'Exotic Party',\n            ends_date: 'Jan 11th 2024',\n            orders_qty: 12,\n            dolars: '$17.20',\n            status: 'Booked',\n            share_link: '/?consultant=ittest%201&partyId=3',\n        },\n        {\n            party_id: 56436,\n            repID: 5678,\n            host_name: 'Felicia Cheshire',\n            party_name: 'Best Party Ever',\n            ends_date: 'Mar 20th 2024',\n            orders_qty: 9,\n            dolars: '$12.50',\n            status: 'Cancelled',\n            share_link: '/?consultant=ittest%201&partyId=3',\n        },\n    ],\n};\n\nexport default class MyParties extends PageManager {\n    constructor(context) {\n        super(context);\n        this.$overlay = $('.page .loadingOverlay');\n        this.$partiesContainer = $('.page #my-parties');\n        this.context = context;\n    }\n\n    onReady() {\n        this.getPartiesByHost(this.context);\n    }\n\n    getPartiesByHost(context) {\n        // COMPLETE WITH API REQUEST AND LOADING STATE WHILE GETTING DATA\n        // DATE WHEN PARTY WAS CREATED IS NOT PART OF THE RESPONSE.\n        // PARTY END DATE IS USED FOR DISPLAY.\n        this.handleResults(context, bodyMockResponse.parties);\n    }\n\n    handleResults(context, parties) {\n        const partiesHtml = parties.map(({\n            party_id: partyId,\n            // repID: repId,\n            // host_name: hostName,\n            // party_name: partyName,\n            ends_date: endsDate,\n            orders_qty: ordersQty,\n            dolars,\n            status,\n            share_link: shareLink,\n        }) => {\n            const fullUrl = `${context.secureBaseUrl}${shareLink}`;\n\n            return (`\n                <div class=\"party-wrapper\">\n                    <div class=\"party-info\">\n                        <div class=\"party-id\">Party ID ${partyId}</div>\n                        <div class=\"party-status desktop\">${status}</div>\n                    </div>\n                    <div class=\"party-table\">\n                        <div class=\"data-column\">\n                            <h6 class=\"data-title\">Date</h6>\n                            <span class=\"data-value\">${endsDate}</span>\n                        </div>\n                        <div class=\"data-column\">\n                            <h6 class=\"data-title\">Orders</h6>\n                            <span class=\"data-value\">${ordersQty}</span>\n                        </div>\n                        <div class=\"data-column\">\n                            <h6 class=\"data-title\">Dollars</h6>\n                            <span class=\"data-value\">${dolars}</span>\n                        </div>\n                        <div class=\"data-column\">\n                            <h6 class=\"data-title\">Share</h6>\n                            <div class=\"share-icons-wrapper\">\n                                <button href=\"${shareLink}\" class=\"share-button\">Copy Link</button>\n                                <button class=\"email-share-button\">\n                                    <svg width=\"38px\" height=\"38px\"><use href=\"#icon-email_2\"></use></svg>\n                                </button>\n                                <button id=\"shareBtn\" class=\"fb-share-button\">\n                                    <svg width=\"38px\" height=\"38px\"><use href=\"#icon-facebook\"></use></svg>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"party-info\">\n                        <div class=\"party-status mobile\">${status}</div>\n                    </div>\n                </div>\n                <script>\n                    document.getElementById('shareBtn').onclick = function() {\n                    FB.ui({\n                        display: 'popup',\n                        method: 'share',\n                        href: '${fullUrl}',\n                    }, function(response){});\n                    }\n                </script>\n            `);\n        }).join('');\n\n        this.$partiesContainer.html(partiesHtml);\n        this.bindCopyLink();\n    }\n\n    handleNoResults() {\n        const resultsHTML = '<div>No parties found.</div>';\n\n        this.$partiesContainer.html(resultsHTML);\n    }\n\n    handleError(error) {\n        console.error(error);\n        this.handleNoResults();\n    }\n\n    bindCopyLink() {\n        $('.party-table .share-button').on('click', event => {\n            const url = event.target.getAttribute('href');\n            const { secureBaseUrl } = this.context;\n            navigator.clipboard.writeText(secureBaseUrl + url);\n        });\n    }\n\n    loading(flag) {\n        this.$overlay[flag ? 'show' : 'hide']();\n    }\n}\n"],"names":["bodyMockResponse","party_id","repID","host_name","party_name","ends_date","orders_qty","dolars","status","share_link","MyParties","_PageManager","context","_this","call","$overlay","$","$partiesContainer","_proto","prototype","onReady","this","getPartiesByHost","handleResults","parties","partiesHtml","map","_ref","partyId","endsDate","ordersQty","shareLink","secureBaseUrl","join","html","bindCopyLink","handleNoResults","handleError","error","console","_this2","on","event","url","target","getAttribute","navigator","clipboard","writeText","loading","flag","PageManager"],"sourceRoot":""}